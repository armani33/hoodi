function refreshForm(innerHTML) {
  const newResponseForm = document.getElementById('responses/form');
  newResponseForm.innerHTML = innerHTML;
}

function addResponse(responseHTML) {
  const responses = document.getElementById('responses');
  responses.insertAdjacentHTML('afterend', responseHTML);
}

<% if @response.errors.any? %>
  refreshForm('<%= j render "root_path", post: @post, response: @response %>');
<% else %>
  addResponse('<%= j render "responses/show", response: @response %>');
  refreshForm('<%= j render "root_path", post: @post, response: Response.new %>');
<% end %>
